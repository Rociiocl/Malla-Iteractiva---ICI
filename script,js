
const ramos = [
  { id: "intro_mate", nombre: "Introducción a las matemáticas", requisitos: [], año: 1, semestre: 1 },
  { id: "fund_gestion", nombre: "Fundamentos de gestión", requisitos: [], año: 1, semestre: 1 },
  { id: "tec_gestion", nombre: "Tecnologías para la gestión", requisitos: [], año: 1, semestre: 1 },
  { id: "intro_inge", nombre: "Introducción a la ingeniería", requisitos: [], año: 1, semestre: 1 },
  { id: "electivo_pens", nombre: "Electivo desarrollo del pensamiento", requisitos: [], año: 1, semestre: 1 },
  { id: "algebra", nombre: "Álgebra", requisitos: ["intro_mate"], año: 1, semestre: 2 },
  { id: "quimica", nombre: "Química y medio ambiente", requisitos: [], año: 1, semestre: 2 },
  { id: "calculo1", nombre: "Cálculo I", requisitos: ["intro_mate"], año: 1, semestre: 2 },
  { id: "programacion", nombre: "Programación", requisitos: ["tec_gestion"], año: 1, semestre: 2 },
  { id: "electivo_com1", nombre: "Electivo de comunicación I", requisitos: [], año: 1, semestre: 2 }
  // Puedes agregar más ramos aquí con sus respectivos año y semestre
];

let aprobados = new Set();

function crearMalla() {
  const malla = document.getElementById("malla");
  malla.innerHTML = "";

  for (let año = 1; año <= 4; año++) {
    for (let semestre = 1; semestre <= 2; semestre++) {
      const columna = document.createElement("div");
      columna.className = "columna";

      const encabezado = document.createElement("h3");
      encabezado.innerText = `Año ${año} - Sem ${semestre}`;
      columna.appendChild(encabezado);

      ramos
        .filter(r => r.año === año && r.semestre === semestre)
        .forEach(ramo => {
          const div = document.createElement("div");
          div.className = "ramo";

          const habilitado = ramo.requisitos.every(r => aprobados.has(r));
          if (!habilitado) div.classList.add("bloqueado");
          if (aprobados.has(ramo.id)) div.classList.add("aprobado");

          div.innerText = ramo.nombre;
          div.onclick = () => {
            if (!habilitado) return;
            if (aprobados.has(ramo.id)) {
              aprobados.delete(ramo.id);
            } else {
              aprobados.add(ramo.id);
            }
            crearMalla();
          };

          columna.appendChild(div);
        });

      malla.appendChild(columna);
    }
  }
}

crearMalla();

